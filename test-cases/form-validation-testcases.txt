# フォーム入力バリデーションテストケース

## 対象URL
http://127.0.0.1:5500/sample-site/index.html

## テストケース一覧

### TC_FV_001: 名前フィールド - 必須チェック
【操作手順】
1. ページを開く
2. #name に「テスト」を入力
3. #name を空にする（すべて削除）
4. 200ms待機（バリデーショントリガー待ち）

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #nameError
   - 期待値: テキストに「必須」を含む

---

### TC_FV_002: 名前フィールド - 最大文字数（境界値: 50文字）
【操作手順】
1. ページを開く
2. #name に「あ」を50回繰り返した文字列を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #nameError
   - 期待値: テキスト = 空文字

2. データ追加が成功すること
   - #email に「test@example.com」を入力
   - #age に「25」を入力
   - #submitBtn をクリック
   - 500ms待機
   - #tableBody tr のカウント = 1

---

### TC_FV_003: 名前フィールド - 最大文字数超過（境界値: 51文字）
【操作手順】
1. ページを開く
2. #name に「あ」を51回繰り返した文字列を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #nameError
   - 期待値: テキストに「50文字以内」を含む

2. データ追加が失敗すること
   - #email に「test@example.com」を入力
   - #age に「25」を入力
   - #submitBtn をクリック
   - 500ms待機
   - #tableBody tr が存在しないこと（データ追加されない）

---

### TC_FV_004: メールアドレスフィールド - 必須チェック
【操作手順】
1. ページを開く
2. #email に「test@example.com」を入力
3. #email を空にする（すべて削除）
4. 300ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #emailError
   - 期待値: テキストに「必須」を含む

---

### TC_FV_005: メールアドレスフィールド - 不正な形式（@なし）
【操作手順】
1. ページを開く
2. #email に「invalidexample.com」を入力
3. 300ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #emailError
   - 期待値: テキストに「有効なメールアドレス」を含む

---

### TC_FV_006: メールアドレスフィールド - 不正な形式（@のみ）
【操作手順】
1. ページを開く
2. #email に「test@」を入力
3. 300ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #emailError
   - 期待値: テキストに「有効なメールアドレス」を含む

---

### TC_FV_007: メールアドレスフィールド - 不正な形式（ドメインなし）
【操作手順】
1. ページを開く
2. #email に「test@example」を入力
3. 300ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #emailError
   - 期待値: テキストに「有効なメールアドレス」を含む

---

### TC_FV_008: メールアドレスフィールド - 正常な形式（標準）
【操作手順】
1. ページを開く
2. #email に「test@example.com」を入力
3. 300ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #emailError
   - 期待値: テキスト = 空文字

---

### TC_FV_009: メールアドレスフィールド - 正常な形式（サブドメイン）
【操作手順】
1. ページを開く
2. #email に「test@mail.example.com」を入力
3. 300ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #emailError
   - 期待値: テキスト = 空文字

---

### TC_FV_010: メールアドレスフィールド - 正常な形式（プラス記号）
【操作手順】
1. ページを開く
2. #email に「test+tag@example.com」を入力
3. 300ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #emailError
   - 期待値: テキスト = 空文字

---

### TC_FV_011: 年齢フィールド - 必須チェック
【操作手順】
1. ページを開く
2. #age に「25」を入力
3. #age を空にする（すべて削除）
4. 200ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #ageError
   - 期待値: テキストに「必須」を含む

---

### TC_FV_012: 年齢フィールド - 最小値の下（境界値: -1）
【操作手順】
1. ページを開く
2. #age に「-1」を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #ageError
   - 期待値: テキストに「0以上」を含む

---

### TC_FV_013: 年齢フィールド - 最小値（境界値: 0）
【操作手順】
1. ページを開く
2. #age に「0」を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #ageError
   - 期待値: テキスト = 空文字

2. データ追加が成功すること
   - #name に「テストユーザー」を入力
   - #email に「test@example.com」を入力
   - #submitBtn をクリック
   - 500ms待機
   - #tableBody tr のカウント = 1
   - 年齢が「0」として表示されること

---

### TC_FV_014: 年齢フィールド - 最小値の上（境界値: 1）
【操作手順】
1. ページを開く
2. #age に「1」を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #ageError
   - 期待値: テキスト = 空文字

---

### TC_FV_015: 年齢フィールド - 最大値の下（境界値: 149）
【操作手順】
1. ページを開く
2. #age に「149」を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #ageError
   - 期待値: テキスト = 空文字

---

### TC_FV_016: 年齢フィールド - 最大値（境界値: 150）
【操作手順】
1. ページを開く
2. #age に「150」を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されないこと
   - セレクタ: #ageError
   - 期待値: テキスト = 空文字

2. データ追加が成功すること
   - #name に「テストユーザー」を入力
   - #email に「test@example.com」を入力
   - #submitBtn をクリック
   - 500ms待機
   - #tableBody tr のカウント = 1
   - 年齢が「150」として表示されること

---

### TC_FV_017: 年齢フィールド - 最大値の上（境界値: 151）
【操作手順】
1. ページを開く
2. #age に「151」を入力
3. 200ms待機

【確認項目】
1. エラーメッセージが表示されること
   - セレクタ: #ageError
   - 期待値: テキストに「150以下」を含む

2. データ追加が失敗すること
   - #name に「テストユーザー」を入力
   - #email に「test@example.com」を入力
   - #submitBtn をクリック
   - 500ms待機
   - #tableBody tr が存在しないこと

---

### TC_FV_018: 年齢フィールド - step属性確認
【操作手順】
1. ページを開く

【確認項目】
1. #age の step 属性が「1」であること
   - await page.locator('#age').getAttribute('step')
   - 期待値: "1"

2. 整数値の入力が可能であること
   - #age に「25」を入力
   - 入力値が「25」であること

---

### TC_FV_019: 部署フィールド - 未選択（デフォルト値）
【操作手順】
1. ページを開く
2. #name に「テストユーザー」を入力
3. #email に「test@example.com」を入力
4. #age に「25」を入力
5. #department は選択しない（デフォルト値のまま）
6. #submitBtn をクリック
7. 500ms待機

【確認項目】
1. データが「未設定」として登録されること
   - #tableBody tr のカウント = 1
   - #tableBody tr:first-child td:nth-child(5) のテキスト = 「未設定」

---

### TC_FV_020: 部署フィールド - 各選択肢の選択
【操作手順】
1. ページを開く
2. 以下の各部署を選択してデータを追加
   - 開発
   - 営業
   - 人事
   - 総務
   - 経理

【確認項目】
1. 各部署が正しく登録されること
   - #tableBody tr のカウント = 5
   - 各行の部署カラムに選択した部署名が表示されていること

---

### TC_FV_021: すべてのフィールドに有効な値を入力
【操作手順】
1. ページを開く
2. #name に「山田太郎」を入力
3. #email に「yamada@example.com」を入力
4. #age に「30」を入力
5. #department で「開発」を選択
6. #submitBtn をクリック
7. 500ms待機

【確認項目】
1. すべてのエラーメッセージが表示されないこと
   - #nameError: 空文字
   - #emailError: 空文字
   - #ageError: 空文字

2. データがテーブルに正しく表示されること
   - #tableBody tr のカウント = 1
   - 名前: 「山田太郎」
   - メール: 「yamada@example.com」
   - 年齢: 「30」
   - 部署: 「開発」

3. フォームがクリアされること
   - #name の入力値 = 空文字
   - #email の入力値 = 空文字
   - #age の入力値 = 空文字
   - #department の選択値 = 空文字（デフォルト）

---

### TC_FV_022: クリアボタン機能
【操作手順】
1. ページを開く
2. #name に「テストユーザー」を入力
3. #email に「test@example.com」を入力
4. #age に「25」を入力
5. #department で「営業」を選択
6. #resetBtn をクリック

【確認項目】
1. すべてのフィールドが空になること
   - #name の入力値 = 空文字
   - #email の入力値 = 空文字
   - #age の入力値 = 空文字
   - #department の選択値 = 空文字

2. エラーメッセージもクリアされること
   - #nameError: 空文字
   - #emailError: 空文字
   - #ageError: 空文字

---

## バリデーションルール一覧

### 名前フィールド (#name)
- 必須: はい
- 最小文字数: 1
- 最大文字数: 50
- エラーメッセージ:
  - 空文字: 「名前は必須です」
  - 51文字以上: 「名前は50文字以内で入力してください」

### メールアドレスフィールド (#email)
- 必須: はい
- 形式: メールアドレス形式（正規表現: /^[^\s@]+@[^\s@]+\.[^\s@]+$/）
- エラーメッセージ:
  - 空文字: 「メールアドレスは必須です」
  - 不正な形式: 「有効なメールアドレスを入力してください」

### 年齢フィールド (#age)
- 必須: はい
- 型: 整数（number, step="1"）
- 最小値: 0
- 最大値: 150
- エラーメッセージ:
  - 空文字: 「年齢は必須です」
  - 0未満: 「0以上の数値を入力してください」
  - 151以上: 「150以下の数値を入力してください」

### 部署フィールド (#department)
- 必須: いいえ
- 選択肢: 「開発」「営業」「人事」「総務」「経理」
- デフォルト値: 「未設定」（選択しない場合）

---

## セレクタ一覧

### フォーム要素
- #name : 名前入力フィールド
- #email : メールアドレス入力フィールド
- #age : 年齢入力フィールド
- #department : 部署選択フィールド
- #submitBtn : 追加ボタン
- #resetBtn : クリアボタン

### エラーメッセージ
- #nameError : 名前のエラーメッセージ
- #emailError : メールのエラーメッセージ
- #ageError : 年齢のエラーメッセージ

### データ確認用
- #tableBody tr : テーブル行
- #tableBody tr:first-child td:nth-child(2) : 1行目の名前
- #tableBody tr:first-child td:nth-child(3) : 1行目のメール
- #tableBody tr:first-child td:nth-child(4) : 1行目の年齢
- #tableBody tr:first-child td:nth-child(5) : 1行目の部署

---

最終更新: 2025年10月25日
